$schema: "1.0"
name: "foundrylocal"
image: microsoftvisualstudio_visualstudioplustools_vs-2022-ent-general-win11-m365-gen2
description: "Installs Azure Foundry Local"

tasks:
  - name: ~/powershell
    description: Install Foundry Local
    parameters:
      command: |
          $downloadUrl = "https://github.com/microsoft/Foundry-Local/releases/download/v0.3.9267/FoundryLocal-x64-0.3.9267.43123.msix"
          $localPath = Join-Path -Path $env:TEMP -ChildPath FoundryLocal.msix
          Write-Host "Downloading Foundry Local from $downloadUrl"
          Invoke-WebRequest -Uri $downloadUrl -OutFile $localPath
          Write-Host "Installing Foundry Local from $localPath"
          Add-AppxPackage -Path $localPath

  - name: ~/powershell
    description: Download a model
    parameters:
      command: foundry model download Phi-4-generic-cpu
